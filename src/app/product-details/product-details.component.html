<!--<div>{{this.dataProductDetails.img[0].link|json}}</div>-->
<div NgxLoadingXBlur [show]="load">

  <div class="container-product-details" *ngIf="dataProductDetails">
    <div class="content-product-details">
      <div class="content-title" *ngIf="dataProductDetails">
        <div class="routerLinkTitle" style=" margin-bottom: 10px; font-size: 90%;"><a href="" routerLink="/trang-chu">Trang chủ</a> >>>
          <a href="" routerLink="/{{this.dataProductDetails.productMain}}">{{this.dataProductDetails.productMain}}</a>
          >>> <a href="" routerLink="/{{this.dataProductDetails.productMain}}/{{this.dataProductDetails.productMainBrand}}">{{this.dataProductDetails.productMainBrand}}</a>
          <span> >>> {{this.dataProductDetails.productDetails.name}}</span></div>
        <div class="content-product-item__title">
          <div class="title-left">
            <h2>{{this.dataProductDetails.productDetails.name}}</h2>
          </div>
          <div class="title-right">

          </div>
        </div>
      </div>

      <div class="content-item">
        <div class="content-item__left">
          <div class="product-images">
            <div class="tagDiscount">
              <p>{{dataProductDetails.discount}}%</p>
              <p>GIẢM</p>
            </div>
            <img id="idImg{{i}}" *ngFor="let item of dataProductDetails.img ;let i = index " class="img-item"
                 src="{{item.link}}" alt="{{item.name}}">
          </div>
          <div class="content-img__slider">
            <ul>
              <li (click)="clickImg(i)" *ngFor="let item of dataProductDetails.img ; let i = index">
                <img class="item_img_small" id="img_details{{i}}" src="{{item.link}}" alt="{{item.name}}"
                     [title]="item.name">
              </li>
            </ul>
          </div>
        </div>

        <div class="content-text">
          <div class="box-caption">
            <div class="tag-like">
              <span>Yêu Thích</span>
            </div>
            <h1 class="box-caption_1">
              {{dataProductDetails.productDetails.name}}
            </h1>
          </div>
          <div class="rating">
            <span class="numberStar">{{dataProductDetails.star}}</span>
            <div class="class-one1">
              <ng-template #t1 let-fill="fill">
                        <span class="star" [class.full]="fill === 100">
                          <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                        </span>
              </ng-template>
              <ngb-rating [(rate)]="dataProductDetails.star" [starTemplate]="t1" [readonly]="true"
                          [max]="5"></ngb-rating>
            </div>
            <div class="evaluate"><u>{{dataProductDetails.evaluate}}</u> <span>Đánh Giá</span></div>
            <div class="sellNumber">
              <u>{{dataProductDetails.sellNumber}}k </u> <span>Đã Bán</span>
            </div>

          </div>

          <div class="caption_info">
            <p>Tình trạng hàng: Còn Hàng</p>
            <p>Lượt xem: {{dataProductDetails.evaluate * 2}}</p>
            <p>Kho Hàng: liên hệ {{dataInfoCompany.hotline}} báo giá tại kho sản xuất</p>
            <p>Giá : <span>Liên Hệ</span></p>
            <p>Nhận Báo Giá : <strong href="tel:0915220153"
                                      style="color: #ff4500"> {{dataInfoCompany.phoneNumber1}}
              || {{dataInfoCompany.phoneNumber2}}</strong></p>
            <p>Nơi cung cấp : <strong style="color: #ff4500"> {{dataInfoCompany.address}}</strong></p>
            <p>Mô tả ngắn : {{dataProductDetails.productDetails.name}}</p>
            <!--            <p>{{convertBoolean(this.productItem1.addCart)}}</p>-->
            <div class="leftFlex">
              <button class="addCart" (click)="addCart()" routerLink="/cart">
                <div style="margin-bottom: 0px;"><i style="font-size: 120%" class="far fa-cart-plus"></i>
                  <span style="text-transform: uppercase; font-weight: bold;">Đặt hàng</span></div>
                <div><span style="font-size: 90%;">(Giao hàng nhanh chóng - Giá tốt nhất)</span></div>
              </button>
            </div>


          </div>

          <div class="socials-share">
            <p class="socials-share__caption">Chia sẻ nếu sản phẩm làm bạn hài lòng nhé </p>
            <div class="socials-share__btn">
              <button mat-raised-button style="background: #4064ac"><i class="fab fa-facebook-f"></i> Share</button>
              <button mat-raised-button style="background: #43a8ee"><i class="fab fa-twitter"></i> Share</button>
              <button mat-raised-button style="background-color: #db4437;"><i class="fab fa-gofore"></i> Share</button>
              <button mat-raised-button style="background-color: #dd5348;"><i class="fa fa-envelope"></i> Share</button>
              <button mat-raised-button style="background-color: #ffb932"><img style="width: 15px"
                                                                               src="./assets/Storage/Upload/icon/zalo_icon.png"
                                                                               alt=""> Share
              </button>
            </div>
          </div>
        </div>

        <div class="boxs">
          <div class="boxs_child">
            <h5>Chính sách bán hàng tại {{dataInfoCompany.nameCompany}}</h5>
            <ul>
              <li><i class="fa fa-check-square"></i>Tư vấn 24/7</li>
              <br>
              <li><i class="fa fa-check-square"></i>Khuyến mại hấp dẫn</li>
              <br>
              <li><i class="fa fa-check-square"></i>Giao hàng toàn quốc</li>
              <br>
              <li><i class="fa fa-check-square"></i>Sản phẩm chất lượng</li>
              <br>
              <li><i class="fa fa-check-square"></i>Miễn phí đổi trả</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="box-info">
        <div class="tab-content">
          <mat-tab-group mat-align-tabs="start">
            <mat-tab label="Mô tả">
              <div class="description-content" style="font-family: hevatica-regular, sans-serif;"
                   [innerHTML]="dataProductDetails.description.mota"></div>
            </mat-tab>
            <mat-tab label="Thông số kĩ thuật">
              <div class="table-thongso" style="font-family: hevatica-regular, sans-serif;"
                   [innerHTML]="dataProductDetails.description.thongso"></div>
            </mat-tab>
            <mat-tab label="Đánh giá ">
              <div class="content-rating">
                <div class="ProductRating">
                  <div class="commentwrap">
                <span style="font-size: 22px;">
                 <span></span>1 đánh giá về sản phẩm
                    	    </span>
                  </div>
                  <div class="danh-gia-sao">
                    <div class="cot-11">
                      <span>{{dataProductDetails.star}} </span><i class="fa fa-star"></i>
                    </div>

                    <div class="cot-2">
                      <div class="cot-1">
                        <span>5</span><i class="fa fa-star"></i>
                        <mat-progress-bar mode="determinate" value="{{this.val5}}"></mat-progress-bar>
                      </div>
                      <div class="cot-1">
                        <span>4</span><i class="fa fa-star"></i>
                        <mat-progress-bar mode="determinate" value="{{this.val4}}"></mat-progress-bar>
                      </div>
                      <div class="cot-1">
                        <span>3</span><i class="fa fa-star"></i>
                        <mat-progress-bar mode="determinate" value=""></mat-progress-bar>
                      </div>
                      <div class="cot-1">
                        <span>2</span><i class="fa fa-star"></i>
                        <mat-progress-bar mode="determinate" value=""></mat-progress-bar>
                      </div>
                      <div class="cot-1">
                        <span>1</span><i class="fa fa-star"></i>
                        <mat-progress-bar mode="determinate" value=""></mat-progress-bar>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="formDanhgia">
                  <form action="" [formGroup]="formGroupDanhgia">
                    <div class="starDanhgia">
                      <span>Đánh giá</span>
                      <div class="starGroup">
                        <div class="starItem" *ngFor="let item of itemStarArr; let i = index">
                          <i (click)="ChooseStar(i)" *ngIf="itemStarArr[i]" style="color: dimgray"
                             class="fa fa-star"></i>
                          <i (click)="ChooseStar(i)" *ngIf="!itemStarArr[i]" style="color: #ffc700"
                             class="fa fa-star"></i>
                        </div>
                      </div>
                    </div>
                    <textarea formControlName="content" style="margin-top: 20px;font-size: 110%;" class="form-control"
                              id="inputMessage" name="message" placeholder="Nhập bình luận *" rows="4"></textarea>
                    <div style="display: flex; justify-content: space-between">
                      <input formControlName="name" type="text" class="form-control" placeholder="Họ tên *"
                             style="margin-top: 10px;font-size: 110%;margin-right: 10px">
                      <input formControlName="phone" type="text" class="form-control" placeholder="Điện thoại *"
                             style="margin-top: 10px;font-size: 110%;margin-left: 10px">
                    </div>
                  </form>
                  <button (click)="sendDanhgia()" style="margin-top: 10px;" mat-raised-button color="accent"
                          [disabled]="this.formGroupDanhgia.invalid">Gửi
                  </button>

                </div>
              </div>
              <div class="list-items">
                <ul id="comments">
                  <li class="item_comment" *ngFor="let item of dataProductDetails.comment">
                    <div class="col-left">
                      <span>{{dataServices.returnAvatar(item.name)[1]}}</span>
                    </div>
                    <div class="col-right">
                      <p style="color: rgb(92, 184, 92); font-weight: bold;">Sản phẩm tốt - {{item?.star}}/5 sao</p>
                      <div class="content">
                        <div class="line1">
                          <div>
                            <span><b>{{dataServices.returnAvatar(item.name)[0]}}</b></span> | <span
                            class="date">{{item.time}}</span>
                          </div>

                          <div class="star-right">
                            <span class="numberStar">{{item?.star}}</span>
                            <div class="class-one1">
                              <ng-template #t1 let-fill="fill">
                             <span class="star" [class.full]="fill === 100">
                             <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                            </span>
                              </ng-template>
                              <ngb-rating [(rate)]="item.star" [starTemplate]="t1" [readonly]="true"
                                          [max]="5"></ngb-rating>
                            </div>
                          </div>
                        </div>
                        <div class="content-text">
                          <span>{{item.content}}</span>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
        <div class="widget-product">
          <h3 class="widget-title">TOP Sản phẩm HOT</h3>
          <div class="widget-content" *ngIf="dataTotalProductDetails">
            <ul>
              <li *ngFor="let item of dataTotalProductDetails | slice: 0: 4; let i = index">
                <div class="form-cell">
                  <div class="custom-img" (click)="this.scrollTop(); this.loadingTest()"
                       routerLink="/{{item.productMain}}/{{item.productMainBrand}}/{{item.productDetails.link}}">
                    <img class="img-main" src="{{item.img[0].link}}" alt="{{item.img[0].name}}"
                         title="{{item.img[0].name}}">
                  </div>
                  <div class="contentTotal">
                    <div (click)="this.scrollTop();this.loadingTest()" class="contentProduct" title="{{item.productDetails.name}}"
                         routerLink="/{{item.productMain}}/{{item.productMainBrand}}/{{item.productDetails.link}}">
                      <h3>{{item.productDetails.name}}</h3></div>
                    <div class="priceProduct">
                      <div>
                        <span>Giá: </span><span>{{item.price}}</span>
                      </div>
                      <div>
                        <svg height="12" viewBox="0 0 20 12" width="20" class="shopee-svg-icon icon-free-shipping">
                          <g fill="none" fill-rule="evenodd" transform="">
                            <rect fill="#00bfa5" fill-rule="evenodd" height="9" rx="1" width="12" x="4"/>
                            <rect height="8" rx="1" stroke="#00bfa5" width="11" x="4.5" y=".5"/>
                            <rect fill="#00bfa5" fill-rule="evenodd" height="7" rx="1" width="7" x="13" y="2"/>
                            <rect height="6" rx="1" stroke="#00bfa5" width="6" x="13.5" y="2.5"/>
                            <circle cx="8" cy="10" fill="#00bfa5" r="2"/>
                            <circle cx="15" cy="10" fill="#00bfa5" r="2"/>
                            <path
                              d="m6.7082481 6.7999878h-.7082481v-4.2275391h2.8488017v.5976563h-2.1405536v1.2978515h1.9603297v.5800782h-1.9603297zm2.6762505 0v-3.1904297h.6544972v.4892578h.0505892c.0980164-.3134765.4774351-.5419922.9264138-.5419922.0980165 0 .2276512.0087891.3003731.0263672v.6210938c-.053751-.0175782-.2624312-.038086-.3762568-.038086-.5122152 0-.8758247.3017578-.8758247.75v1.8837891zm3.608988-2.7158203c-.5027297 0-.8536919.328125-.8916338.8261719h1.7390022c-.0158092-.5009766-.3446386-.8261719-.8473684-.8261719zm.8442065 1.8544922h.6544972c-.1549293.571289-.7050863.9228515-1.49238.9228515-.9864885 0-1.5903965-.6269531-1.5903965-1.6464843 0-1.0195313.6165553-1.6669922 1.5872347-1.6669922.9580321 0 1.5366455.6064453 1.5366455 1.6083984v.2197266h-2.4314412v.0351562c.0221328.5595703.373095.9140625.9169284.9140625.4110369 0 .6924391-.1376953.8189119-.3867187zm2.6224996-1.8544922c-.5027297 0-.853692.328125-.8916339.8261719h1.7390022c-.0158091-.5009766-.3446386-.8261719-.8473683-.8261719zm.8442064 1.8544922h.6544972c-.1549293.571289-.7050863.9228515-1.49238.9228515-.9864885 0-1.5903965-.6269531-1.5903965-1.6464843 0-1.0195313.6165553-1.6669922 1.5872347-1.6669922.9580321 0 1.5366455.6064453 1.5366455 1.6083984v.2197266h-2.4314412v.0351562c.0221328.5595703.373095.9140625.9169284.9140625.4110369 0 .6924391-.1376953.8189119-.3867187z"
                              fill="#fff"/>
                            <path d="m .5 8.5h3.5v1h-3.5z" fill="#00bfa5"/>
                            <path d="m0 10.15674h3.5v1h-3.5z" fill="#00bfa5"/>
                            <circle cx="8" cy="10" fill="#047565" r="1"/>
                            <circle cx="15" cy="10" fill="#047565" r="1"/>
                          </g>
                        </svg>
                      </div>
                    </div>
                    <div class="starProduct">
                      <div class="class-one">
                        <ng-template #t1 let-fill="fill">
                        <span class="star" [class.full]="fill === 100">
                          <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                        </span>
                        </ng-template>

                        <ngb-rating [(rate)]="item.star" [starTemplate]="t1" [readonly]="true" [max]="5"></ngb-rating>
                        <!--                    <ngb-rating [rate]="1" [starTemplate]="t" [max]="5" [readonly]="true"-->
                        <!--                                [resettable]="true"></ngb-rating>-->
                      </div>
                    </div>
                    <div class="addressProduct">Địa chỉ: {{item.address}}</div>

                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>


      <div class="more-product" *ngIf="dataProductSame">
        <div class="content-product-item__title">
          <div class="title-left">
            <h2>Sản phẩm cùng loại</h2>
          </div>
          <div class="title-right">

          </div>
        </div>
        <div class="content-product-item__list">
          <div class="list_total_product">
            <ul>
              <li *ngFor="let item of dataProductSame |
          paginate: {itemsPerPage: this.chooseItemOfPage, currentPage: page} let i = index">
                <div class="classFakeTop"></div>
                <div class="classFakeBottom"></div>
                <div class="form-cell">
                  <div class="custom-img" (click)="this.scrollTop();this.loadingTest()"
                       routerLink="/{{item.productMain}}/{{item.productMainBrand}}/{{item.productDetails.link}}">
                    <img class="img-main" src="{{item.img[0].link}}" alt="{{item.img[0].name}}"
                         title="{{item.img[0].name}}">
                    <div class="img-like">
                      <div class="img-like1"><span>Yêu thích</span></div>
                      <div class="img-like2"></div>
                    </div>
                    <div class="img-discount">
                      <p class="valueDiscount">{{item.discount}}%</p>
                      <p class="textDiscount">giảm</p>
                    </div>
                  </div>
                  <div class="contentTotal">
                    <div class="contentProduct" title="{{item.productDetails.name}}" (click)="this.scrollTop();this.loadingTest()"
                         routerLink="/{{item.productMain}}/{{item.productMainBrand}}/{{item.productDetails.link}}">
                      <h3>{{item.productDetails.name}}</h3></div>
                    <div class="priceProduct">
                      <div>
                        <span>Giá: </span><span>{{item.price}}</span>
                      </div>
                      <div>
                        <svg height="12" viewBox="0 0 20 12" width="20" class="shopee-svg-icon icon-free-shipping">
                          <g fill="none" fill-rule="evenodd" transform="">
                            <rect fill="#00bfa5" fill-rule="evenodd" height="9" rx="1" width="12" x="4"/>
                            <rect height="8" rx="1" stroke="#00bfa5" width="11" x="4.5" y=".5"/>
                            <rect fill="#00bfa5" fill-rule="evenodd" height="7" rx="1" width="7" x="13" y="2"/>
                            <rect height="6" rx="1" stroke="#00bfa5" width="6" x="13.5" y="2.5"/>
                            <circle cx="8" cy="10" fill="#00bfa5" r="2"/>
                            <circle cx="15" cy="10" fill="#00bfa5" r="2"/>
                            <path
                              d="m6.7082481 6.7999878h-.7082481v-4.2275391h2.8488017v.5976563h-2.1405536v1.2978515h1.9603297v.5800782h-1.9603297zm2.6762505 0v-3.1904297h.6544972v.4892578h.0505892c.0980164-.3134765.4774351-.5419922.9264138-.5419922.0980165 0 .2276512.0087891.3003731.0263672v.6210938c-.053751-.0175782-.2624312-.038086-.3762568-.038086-.5122152 0-.8758247.3017578-.8758247.75v1.8837891zm3.608988-2.7158203c-.5027297 0-.8536919.328125-.8916338.8261719h1.7390022c-.0158092-.5009766-.3446386-.8261719-.8473684-.8261719zm.8442065 1.8544922h.6544972c-.1549293.571289-.7050863.9228515-1.49238.9228515-.9864885 0-1.5903965-.6269531-1.5903965-1.6464843 0-1.0195313.6165553-1.6669922 1.5872347-1.6669922.9580321 0 1.5366455.6064453 1.5366455 1.6083984v.2197266h-2.4314412v.0351562c.0221328.5595703.373095.9140625.9169284.9140625.4110369 0 .6924391-.1376953.8189119-.3867187zm2.6224996-1.8544922c-.5027297 0-.853692.328125-.8916339.8261719h1.7390022c-.0158091-.5009766-.3446386-.8261719-.8473683-.8261719zm.8442064 1.8544922h.6544972c-.1549293.571289-.7050863.9228515-1.49238.9228515-.9864885 0-1.5903965-.6269531-1.5903965-1.6464843 0-1.0195313.6165553-1.6669922 1.5872347-1.6669922.9580321 0 1.5366455.6064453 1.5366455 1.6083984v.2197266h-2.4314412v.0351562c.0221328.5595703.373095.9140625.9169284.9140625.4110369 0 .6924391-.1376953.8189119-.3867187z"
                              fill="#fff"/>
                            <path d="m .5 8.5h3.5v1h-3.5z" fill="#00bfa5"/>
                            <path d="m0 10.15674h3.5v1h-3.5z" fill="#00bfa5"/>
                            <circle cx="8" cy="10" fill="#047565" r="1"/>
                            <circle cx="15" cy="10" fill="#047565" r="1"/>
                          </g>
                        </svg>
                      </div>
                    </div>
                    <div class="starProduct">
                      <div class="btn-checkHeart" (click)="item.like = !item.like">
                        <div [(ngModel)]="item.like" *ngIf="item.like; then one else two"></div>
                        <ng-template #one><i style="color: orangered" class="fas fa-heart"></i></ng-template>
                        <ng-template #two><i style="color: grey" class="far fa-heart"></i></ng-template>
                      </div>
                      <div class="class-one">
                        <ng-template #t1 let-fill="fill">
                        <span class="star" [class.full]="fill === 100">
                          <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                        </span>
                        </ng-template>

                        <ngb-rating [(rate)]="item.star" [starTemplate]="t1" [readonly]="true" [max]="5"></ngb-rating>
                        <!--                    <ngb-rating [rate]="1" [starTemplate]="t" [max]="5" [readonly]="true"-->
                        <!--                                [resettable]="true"></ngb-rating>-->
                        <span>Đã bán {{item.sellNumber}}k</span>
                      </div>
                    </div>
                    <div class="addressProduct">Địa chỉ: {{item.address}}</div>

                  </div>
                </div>
              </li>
            </ul>
            <pagination-controls previousLabel="Trang trước" nextLabel="Trang sau" class="text-center"
                                 (pageChange)="page = $event"></pagination-controls>
          </div>
        </div>


      </div>


    </div>


  </div>


  <app-footer-main></app-footer-main>

</div>
<ngx-loading-x [show]="load"></ngx-loading-x>
